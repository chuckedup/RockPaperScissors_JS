<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <script>
        
        function computerPlay(){
         return Math.floor((Math.random()*3)+1);   
        }
        let computerSelection = 1;

        function playRound(playerSelection, computerSelection){
            computerSelection = computerPlay();
            console.log(computerSelection)
            if (playerSelection == "ROCK"){
                playerNumber = 1;
            }else if (playerSelection == "PAPER"){
                playerNumber = 2;
            }else if (playerSelection== "SCISSORS"){
                playerNumber = 3;
            }

            if (playerNumber == computerSelection){
                console.log("tied");
                return "The game is tied!";
            }else{
                if(playerNumber == 1 && computerSelection == 3){
                    console.log("win");
                    return "The round is won.";
                } else if(playerNumber == 2 && computerSelection == 1) {
                    return "The round is won.";
                } else if(playerNumber == 3 && computerSelection == 2) {
                    return "The round is won.";
                } else{ console.log("lose");return "The round is lost";}
            }
        }
        
        function game(){
            n=0;
            let computer_wins = 0;
            let player_wins = 0;
            while(n<5){
                    let playerChoice = prompt("Rock Paper or Scissors?", "choose"); 
                    let capitalized_answer = playerChoice.toUpperCase();
                    let validity_check=1;
                    if (capitalized_answer == "ROCK" ||capitalized_answer == "PAPER" || capitalized_answer == "SCISSORS" ){
                        validity_check=0;
                    }else {let validity_check=1;}

                while (validity_check==1){
                    console.log("That is not an option");
                    playerChoice = prompt("Rock Paper or Scissors?", "choose");
                    capitalized_answer = playerChoice.toUpperCase();
                    if (capitalized_answer == "ROCK" ||capitalized_answer == "PAPER" || capitalized_answer == "SCISSORS" ){
                        validity_check=0;
                    } else {validity_check=1;console.log(validity_check);}
                }
                
                let result = playRound(capitalized_answer, computerSelection);

                if (result=="The round is won."){
                    player_wins++;
                    console.log("The player won this round. ");
                }else if(result=="The round is lost"){
                    computer_wins++;
                    console.log("The computer won this round. ");
                }
                console.log("Total Player Wins: " + player_wins);
                console.log("Total Computer Wins: " + computer_wins);
                n++;
            }
            if(player_wins>computer_wins){
                console.log("The player won the game!");
            } else if(computer_wins>player_wins){
                console.log("The computer won the game!");
            } else{console.log("Tie Game!");}
        }
    </script>
</body>
</html>